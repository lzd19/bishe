{"ast":null,"code":"export default {\n  data() {\n    return {\n      listLoading: true,\n      // 数据是否正在加载\n      list: null,\n      // banner列表\n      total: 0,\n      // 数据库中的总记录数\n      page: 1,\n      // 默认页码\n      limit: 10,\n      // 每页记录数\n      searchObj: {},\n      // 查询表单对象\n      statusList: [{\n        'status': '1',\n        'name': '进行中'\n      }, {\n        'status': '2',\n        'name': '已完成'\n      }, {\n        'status': '-1',\n        'name': '驳回'\n      }],\n      createTimes: []\n    };\n  },\n  // 生命周期函数：内存准备完毕，页面尚未渲染\n  created() {\n    console.log('list created......');\n    this.fetchData();\n  },\n  // 生命周期函数：内存准备完毕，页面渲染成功\n  mounted() {\n    console.log('list mounted......');\n  },\n  methods: {\n    // 当页码发生改变的时候\n    changeSize(size) {\n      console.log(size);\n      this.limit = size;\n      this.fetchData(1);\n    },\n    // 加载banner列表数据\n    fetchData(page = 1) {\n      console.log('翻页。。。' + page);\n      // 异步获取远程数据（ajax）\n      this.page = page;\n      if (this.createTimes && this.createTimes.length === 2) {\n        this.searchObj.createTimeBegin = this.createTimes[0];\n        this.searchObj.createTimeEnd = this.createTimes[1];\n      }\n      api.getPageList(this.page, this.limit, this.searchObj).then(response => {\n        this.list = response.data.records;\n        this.total = response.data.total;\n\n        // 数据加载并绑定成功\n        this.listLoading = false;\n      });\n    },\n    // 重置查询表单\n    resetData() {\n      console.log('重置查询表单');\n      this.searchObj = {};\n      this.fetchData();\n    },\n    show(id) {\n      console.log(id);\n    }\n  }\n};","map":{"version":3,"names":["data","listLoading","list","total","page","limit","searchObj","statusList","createTimes","created","console","log","fetchData","mounted","methods","changeSize","size","length","createTimeBegin","createTimeEnd","api","getPageList","then","response","records","resetData","show","id"],"sources":["src/views/manager/OaProcessList.vue"],"sourcesContent":["<template>\r\n    <div class=\"app-container\">\r\n\r\n<!--        <div class=\"search-div\">-->\r\n<!--            <el-form label-width=\"70px\" size=\"small\">-->\r\n<!--                <el-row>-->\r\n<!--                    <el-col :span=\"8\">-->\r\n<!--                        <el-form-item label=\"关 键 字\">-->\r\n<!--                            <el-input style=\"width: 95%\" v-model=\"searchObj.keyword\" placeholder=\"审批编号/标题/手机号码/姓名\"></el-input>-->\r\n<!--                        </el-form-item>-->\r\n<!--                    </el-col>-->\r\n<!--                    <el-col :span=\"8\">-->\r\n<!--                        <el-form-item label=\"状态\">-->\r\n<!--                            <el-select-->\r\n<!--                                    v-model=\"searchObj.status\"-->\r\n<!--                                    placeholder=\"请选状态\" style=\"width: 100%;\"-->\r\n<!--                            >-->\r\n<!--                                <el-option-->\r\n<!--                                        v-for=\"item in statusList\"-->\r\n<!--                                        :key=\"item.status\"-->\r\n<!--                                        :label=\"item.name\"-->\r\n<!--                                        :value=\"item.status\"-->\r\n<!--                                />-->\r\n<!--                            </el-select>-->\r\n<!--                        </el-form-item>-->\r\n<!--                    </el-col>-->\r\n<!--                    <el-col :span=\"8\">-->\r\n<!--                        <el-form-item label=\"操作时间\">-->\r\n<!--                            <el-date-picker-->\r\n<!--                                    v-model=\"createTimes\"-->\r\n<!--                                    type=\"datetimerange\"-->\r\n<!--                                    range-separator=\"至\"-->\r\n<!--                                    start-placeholder=\"开始时间\"-->\r\n<!--                                    end-placeholder=\"结束时间\"-->\r\n<!--                                    value-format=\"yyyy-MM-dd HH:mm:ss\"-->\r\n<!--                                    style=\"margin-right: 10px;width: 100%;\"-->\r\n<!--                            />-->\r\n<!--                        </el-form-item>-->\r\n<!--                    </el-col>-->\r\n<!--                </el-row>-->\r\n<!--                <el-row style=\"display:flex\">-->\r\n<!--                    <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" :loading=\"loading\" @click=\"fetchData()\">搜索-->\r\n<!--                    </el-button>-->\r\n<!--                    <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetData\">重置</el-button>-->\r\n<!--                </el-row>-->\r\n<!--            </el-form>-->\r\n<!--        </div>-->\r\n        <!-- 列表 -->\r\n        <el-table\r\n                v-loading=\"listLoading\"\r\n                :data=\"list\"\r\n                stripe\r\n                border\r\n                style=\"width: 100%;margin-top: 10px;\"\r\n        >\r\n\r\n            <el-table-column\r\n                    label=\"序号\"\r\n                    width=\"70\"\r\n                    align=\"center\"\r\n            >\r\n                <template slot-scope=\"scope\">\r\n                    {{ (page - 1) * limit + scope.$index + 1 }}\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"processCode\" label=\"审批编号\" width=\"130\"/>\r\n            <el-table-column prop=\"title\" label=\"标题\" width=\"180\"/>\r\n            <el-table-column prop=\"name\" label=\"用户\"/>\r\n            <el-table-column prop=\"processTypeName\" label=\"审批类型\"/>\r\n            <el-table-column prop=\"processTemplateName\" label=\"审批模板\"/>\r\n            <el-table-column prop=\"description\" label=\"描述\" width=\"180\"/>\r\n            <el-table-column label=\"状态\">\r\n                <template slot-scope=\"scope\">\r\n                    {{ scope.row.status === 1 ? '审批中' : scope.row.status === 2 ? '完成' : '驳回' }}\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"160\"/>\r\n\r\n            <el-table-column label=\"操作\" width=\"120\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"text\" size=\"mini\" @click=\"show(scope.row.id)\">查看</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 分页组件 -->\r\n        <el-pagination\r\n                :current-page=\"page\"\r\n                :total=\"total\"\r\n                :page-size=\"limit\"\r\n                :page-sizes=\"[5, 10, 20, 30, 40, 50, 100]\"\r\n                style=\"padding: 30px 0; text-align: center;\"\r\n                layout=\"sizes, prev, pager, next, jumper, ->, total, slot\"\r\n                @current-change=\"fetchData\"\r\n                @size-change=\"changeSize\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            listLoading: true, // 数据是否正在加载\r\n            list: null, // banner列表\r\n            total: 0, // 数据库中的总记录数\r\n            page: 1, // 默认页码\r\n            limit: 10, // 每页记录数\r\n            searchObj: {}, // 查询表单对象\r\n            statusList: [\r\n                { 'status': '1', 'name': '进行中' },\r\n                { 'status': '2', 'name': '已完成' },\r\n                { 'status': '-1', 'name': '驳回' }\r\n            ],\r\n            createTimes: []\r\n        }\r\n    },\r\n\r\n    // 生命周期函数：内存准备完毕，页面尚未渲染\r\n    created() {\r\n        console.log('list created......')\r\n        this.fetchData()\r\n    },\r\n\r\n    // 生命周期函数：内存准备完毕，页面渲染成功\r\n    mounted() {\r\n        console.log('list mounted......')\r\n    },\r\n\r\n    methods: {\r\n        // 当页码发生改变的时候\r\n        changeSize(size) {\r\n            console.log(size)\r\n            this.limit = size\r\n            this.fetchData(1)\r\n        },\r\n\r\n        // 加载banner列表数据\r\n        fetchData(page = 1) {\r\n            console.log('翻页。。。' + page)\r\n            // 异步获取远程数据（ajax）\r\n            this.page = page\r\n\r\n            if (this.createTimes && this.createTimes.length === 2) {\r\n                this.searchObj.createTimeBegin = this.createTimes[0]\r\n                this.searchObj.createTimeEnd = this.createTimes[1]\r\n            }\r\n\r\n            api.getPageList(this.page, this.limit, this.searchObj).then(\r\n                response => {\r\n                    this.list = response.data.records\r\n                    this.total = response.data.total\r\n\r\n                    // 数据加载并绑定成功\r\n                    this.listLoading = false\r\n                }\r\n            )\r\n        },\r\n\r\n        // 重置查询表单\r\n        resetData() {\r\n            console.log('重置查询表单')\r\n            this.searchObj = {}\r\n            this.fetchData()\r\n        },\r\n\r\n        show(id) {\r\n            console.log(id)\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"AAoGA;EACAA,KAAA;IACA;MACAC,WAAA;MAAA;MACAC,IAAA;MAAA;MACAC,KAAA;MAAA;MACAC,IAAA;MAAA;MACAC,KAAA;MAAA;MACAC,SAAA;MAAA;MACAC,UAAA,GACA;QAAA;QAAA;MAAA,GACA;QAAA;QAAA;MAAA,GACA;QAAA;QAAA;MAAA,EACA;MACAC,WAAA;IACA;EACA;EAEA;EACAC,QAAA;IACAC,OAAA,CAAAC,GAAA;IACA,KAAAC,SAAA;EACA;EAEA;EACAC,QAAA;IACAH,OAAA,CAAAC,GAAA;EACA;EAEAG,OAAA;IACA;IACAC,WAAAC,IAAA;MACAN,OAAA,CAAAC,GAAA,CAAAK,IAAA;MACA,KAAAX,KAAA,GAAAW,IAAA;MACA,KAAAJ,SAAA;IACA;IAEA;IACAA,UAAAR,IAAA;MACAM,OAAA,CAAAC,GAAA,WAAAP,IAAA;MACA;MACA,KAAAA,IAAA,GAAAA,IAAA;MAEA,SAAAI,WAAA,SAAAA,WAAA,CAAAS,MAAA;QACA,KAAAX,SAAA,CAAAY,eAAA,QAAAV,WAAA;QACA,KAAAF,SAAA,CAAAa,aAAA,QAAAX,WAAA;MACA;MAEAY,GAAA,CAAAC,WAAA,MAAAjB,IAAA,OAAAC,KAAA,OAAAC,SAAA,EAAAgB,IAAA,CACAC,QAAA;QACA,KAAArB,IAAA,GAAAqB,QAAA,CAAAvB,IAAA,CAAAwB,OAAA;QACA,KAAArB,KAAA,GAAAoB,QAAA,CAAAvB,IAAA,CAAAG,KAAA;;QAEA;QACA,KAAAF,WAAA;MACA,CACA;IACA;IAEA;IACAwB,UAAA;MACAf,OAAA,CAAAC,GAAA;MACA,KAAAL,SAAA;MACA,KAAAM,SAAA;IACA;IAEAc,KAAAC,EAAA;MACAjB,OAAA,CAAAC,GAAA,CAAAgB,EAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}